<html>
  <head><title>Vice Versa 3D</title>
    <script src="https://aframe.io/releases/1.6.0/aframe.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/c-frame/aframe-extras@7.5.4/dist/aframe-extras.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/aframe-environment-component@1.3.7/dist/aframe-environment-component.min.js"></script>
  </head>
  <body>
    
    <audio id="audio" src="./assets2/Bundle_of_Joy.mp3" preload="auto"></audio>
    <img id="sky" src="./assets2/fondvice.png">
    <a-asset-item id="island" src="./assets2/Island.glb"></a-asset-item>  
    <a-asset-item id="islandL" src="./assets2/LargeIsland.glb"></a-asset-item>
    <a-asset-item id="islandM" src="./assets2/MediumIsland.glb"></a-asset-item>

    <a-asset-item id="palme" src="./assets2/diving_fins_flippers.glb"></a-asset-item>
    <a-asset-item id="velo" src="./assets2/Bicycle.glb"></a-asset-item>
    <a-asset-item id="ping" src="./assets2/Ping Pong table.glb"></a-asset-item>
    <a-asset-item id="volley" src="./assets2/Volleyball.glb"></a-asset-item>
    <a-asset-item id="mc" src="./assets2/water_monster_-_blockbench.glb"></a-asset-item>
    <a-asset-item id="trophy" src="./assets2/Trophy.glb"></a-asset-item>
    
    <a-asset-item id="photo" src="./assets2/Camera stand.glb"></a-asset-item>
    <a-asset-item id="bureau" src="./assets2/Desk.glb"></a-asset-item>
    <a-asset-item id="camera" src="./assets2/Video Camera.glb"></a-asset-item>
    <a-asset-item id="photo2" src="./assets2/photo2.glb"></a-asset-item>
    
    <a-asset-item id="game" src="./assets2/game.glb"></a-asset-item>
    <a-asset-item id="barbec" src="./assets2/barbec.glb"></a-asset-item>
    <a-asset-item id="tente" src="./assets2/tente.glb"></a-asset-item>
    <a-asset-item id="table" src="./assets2/table.glb"></a-asset-item>
    <a-asset-item id="cars" src="./assets2/cars.glb"></a-asset-item>   

    
    <a-scene vr-mode-ui="enabled: true" fog="type: linear; color: #D02119; far: 1000; near: 50" >

      <a-assets>
        <a-asset-item id="navmesh" src="./assets2/QGV2PLAN.glb"></a-asset-item>
      </a-assets>

      <a-assets>
        <a-asset-item id="QG" src="./assets2/QGV2.glb"></a-asset-item>
      </a-assets>

      <a-entity
      nav-mesh
      normal-material
      visible="false"
      position="0 2.6 5"
      scale="3.5 3.5 3.5"
      gltf-model="#navmesh"
    ></a-entity>

      <a-entity
      gltf-model="#QG" position="0 2.5 5" scale="4 4 4" rotation="0 90 0" 
      ></a-entity>

      <a-cylinder height="520" radius=".25" position="0 -23 5" rotation="90 0 0"  color="#FDFBF7" 
      material="emissive: #FDFBF7; emissiveIntensity: 1; roughness: 0; metalness: 1;" opacity="1"></a-cylinder>

      <a-cylinder height="570" radius=".25" position="15 -23 5" rotation="90 37 0"  color="#FDFBF7" 
      material="emissive: #FDFBF7; emissiveIntensity: 1; roughness: 0; metalness: 1;" opacity="1"></a-cylinder>

      <a-cylinder height="570" radius=".25" position="-15 -23 5" rotation="90 -37 0"  color="#FDFBF7" 
      material="emissive: #FDFBF7; emissiveIntensity: 1; roughness: 0; metalness: 1;" opacity="1"></a-cylinder>

      <a-sphere radius="0.5" position="0 3 -5" color="#FFFFFF" class="clickable" 
      event-set__click="_event: click; material.color: #FFFFFF">
</a-sphere>


      <a-entity scale="10 10 10" position="20 -10 100">
        <a-entity
        gltf-model="#island" position="-20 -4.7 -35" scale="10 5 10" rotation="" 
        ></a-entity>

        <a-entity gltf-model="#photo" position="-19 2 -37" scale="1.2 1.2 1.2" rotation="0 180 0"></a-entity>
        <a-entity gltf-model="#bureau" position="-19 -1 -45" scale="2 2 2" rotation="0 150 0"></a-entity>
        <a-entity gltf-model="#camera" position="-21 -.4 -32" scale=".4 .4 .4" rotation="0 -90 0"></a-entity>
        <a-entity gltf-model="#photo2" position="-17.5 -1 -33.5" scale=".4 .4 .4" rotation="0 30 0"></a-entity>
      </a-entity>

      <a-entity scale="10 10 10" position="0 -10 100">
         <a-entity
        gltf-model="#islandL" position="0 -4.7 -40" scale="7 2.5 7" rotation=""
        ></a-entity>

        <a-entity gltf-model="#palme" position="1.65 -.8 -37" scale="3 3 3" rotation="270 30 20"></a-entity>
        <a-entity gltf-model="#velo" position="-1.2 -1.2 -42" scale="1.5 1.5 1.5" rotation="0 210 0"></a-entity>
        <a-entity gltf-model="#ping" position="1.5 -1.2 -39" scale="2.5 2.5 2.5" rotation="0 -40 0"></a-entity>
        <a-entity gltf-model="#volley" position="-2 -0.6 -39" scale=".12 .12 .12" rotation="30 30 0"></a-entity>
        <a-entity gltf-model="#trophy" position="2.5 1.2 -40" scale="3 3 3" rotation="0 300 0"></a-entity>
      </a-entity>

      <a-entity scale="10 10 10" position="-20 -10 100">
        <a-entity
        gltf-model="#islandM" position="20 -4.7 -35" scale="5 2.5 5" rotation=""
        ></a-entity>
        
        <a-entity gltf-model="#cars" position="22 .75 -37" scale="8 8 8" rotation="0 -50 0"></a-entity>
        <a-entity gltf-model="#table" position="20 -1 -33" scale="1.3 1.3 1.3" rotation="0 0 0"></a-entity>
        <a-entity gltf-model="#tente" position="19 -.5 -36" scale="2.5 2.5 2.5" rotation="0 130 0"></a-entity>
        <a-entity gltf-model="#barbec" position="20.5 -.2 -35" scale="2 2 2" rotation="0 0 0"></a-entity>
        <a-entity gltf-model="#game" position="20 -.1 -33" scale="1 1 1" rotation="0 0 0"></a-entity>
      </a-entity>

      <a-entity id="rig" movement-controls="constrainToNavMesh: true;" position="0 2.7 0">
        <a-entity camera look-controls="pointerLockEnabled: true" position="0 1.6 0"><a-cursor color="black" opacity="1" scale=".5 .5 .5"></a-cursor>
        </a-entity>
        <a-entity
        oculus-touch-controls="hand: left"
        laser-controls="hand: left"
        raycaster="objects: .clickable; far: 10; showLine: true"
        ></a-entity>
        <a-entity
        oculus-touch-controls="hand: right"
        laser-controls="hand: right"
        raycaster="objects: .clickable; far: 10; showLine: true"
        ></a-entity>
      </a-entity>

      <a-sky src="#sky" rotation="0 280 0"></a-sky>
      <a-entity gltf-model="#mc" position="0 0 5" scale=".1 .1 .1" rotation="180 0 180"></a-entity>
      <a-sound src="#audio" autoplay="true" loop="true" volume="3"></a-sound>
      

       <!-- Script JS -->
  <script>
    // Liste des couleurs représentant les émotions
    const emotionColors = ["#A58BBA", "#D02119", "#80BA46", "#69C8E5", "#FFE28B"];
    let currentEmotionIndex = 0; // Index de la couleur actuelle

    // Fonction pour changer l'émotion
    function changeEmotion() {
      // Incrémente l'index, revient à 0 si on dépasse la liste
      currentEmotionIndex = (currentEmotionIndex + 1) % emotionColors.length;

      // Change la couleur du fog
      const scene = document.querySelector('a-scene');
      scene.setAttribute('fog', `type: linear; color: ${emotionColors[currentEmotionIndex]}; far: 1000; near: 50`);
    }

    // Ajoute l'événement de clic sur la sphère
    const sphere = document.querySelector('a-sphere');
    sphere.addEventListener('click', changeEmotion);
  </script>
    </a-scene>
    
  </body>
</html>